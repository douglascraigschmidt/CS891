<html>

<title>Database-Ex Microservice (Assignment 2c)</title>

<body text = "#000000"
link="#000fff"
vlink="#ff0f0f"
bgcolor="#ffffff">

<hr>
<h3>Database-Ex Microservice (Assignment 2c)</h3>

<p>The purpose of the third part of this assignment is to deepen your
understanding of how to develop asynchronous microservices with <A
HREF="https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html">Spring
WebFlux</A>, the <A
HREF="https://www.baeldung.com/spring-cloud-netflix-eureka">Eureka
Discovery Service</A>, the <A
HREF="https://www.baeldung.com/spring-cloud-gateway">Spring Cloud
Gateway</A>, the <A
HREF="https://www.baeldung.com/spring-6-http-interface">HTTP interface
declarative client API</a>, and the <A
HREF="https://r2dbc.io/">Reactive Relational Database Connectivity</A>
(R2DBC) persistence framework.  In this assignment you'll apply R2DBC
to create a database that stores information about movies and supports
various asynchronous SQL queries (including a custom SQL query), as
well as apply HTTP interface mechanisms to create several declarative
client APIs that access database and timer microservices
asynchronously via an API gateway. </p>

<p> The code you'll write for this assignment does not have a GUI and
runs as an Spring application with an integration main program and
unit tests. Please feel free to use this main program and the unit
tests to help debug your solution. </p>

<p> The following resources may be helpful in completing this
assignment: </p>

<ul>

<li> Vidoes and tutorials on R2DBC appear <A
HREF="https://r2dbc.io/resources/">here</A>.

<li> A tutorial on HTTP interface appears <A
HREF="https://www.baeldung.com/spring-6-http-interface">here</A>.

</ul>

<p>Naturally, we'll cover this material in class, which will be
available in my YouTube <A
HREF="https://www.youtube.com/playlist?list=PLZ9NgFYEMxp5dm-JKpo8kPuS_0d2kYjHz">playlist</A>.
</p>

<HR width=50% align=left> <H4>Assignment Structure and
Functionality</H4>

<P>The database-ex microservice is packaged as a project using <A
HREF="https://www.jetbrains.com/idea/">IntelliJ</A>.  This app is
written in Java and demonstrates various Spring WebFlux, Project
Reactor, and R2DBC persistence features.  For the purposes of
Assignment 2c, however, just focus on the following directories:

<UL>

<li style="margin-bottom:1em"> <A
HREF="client/src/main/java/edu/vandy/recommender/">client</A>, which
contains a client main driver program containing proxy skeleton(s)
you need to fill in, as described <A
HREF="#description">below</A>. </li>

<li style="margin-bottom:1em"> <A
HREF="database-ex/src/main/java/edu/vandy/recommender/databaseex">database-ex</A>,
which contains the R2DBC-based database microservice server
skeleton(s) you need to fill in, as also described <A
HREF="#description">below</A>. </li>

</UL>

In addition, you need to copy your <A HREF="movies-ex">movies-ex</a>
and <A HREF="database">database</A> microservice implementations from
<a
href="https://github.com/douglascraigschmidt/CS891/tree/master/assignment2b/">assignment
2b</A>, which is found in these folders:

<UL>

<li style="margin-bottom:1em"> <A
HREF="movies-ex/src/main/java/edu/vandy/recommender/moviesex">movies-ex</A>,
which contains the skeleton(s) you need to fill in from assignment
2b. </li>

<LI style="margin-bottom:1em"> <A
HREF="movies-ex/src/test/java/edu/vandy/recommender/moviesex/client">movies-ex/src/test/java/edu/vandy/recommender/moviesex/client</A>,
which contain proxy-related skeleton(s) you need to fill in from
assignment 2b.  </LI>

<li style="margin-bottom:1em"> <A
HREF="database/src/main/java/edu/vandy/recommender/database">database</A>,
which contains the skeleton(s) you need to fill in from assignment
2b. </li>

<li style="margin-bottom:1em"> <A
HREF="client/src/main/java/edu/vandy/recommender/client">client</A>,
which contains the skeleton(s) you need to fill in from assignment
2b. </li>

</UL>

Please be careful not to overwrite the tests provided with these
microservice implementations since they have been updated for
assignment 2c. <P>

<hr width=50% align=left> <A name="description"> <H4>Program
Description and "TODO" Tasks</H4>

<P>You need to modify several files containing the skeleton Java code
by completing the "TODO - You fill in here" tasks to provide a working
solution.  DO NOT CHANGE THE OVERALL STRUCTURE OF THE SKELETON - just
fill in the "TODO" tasks (and do NOT delete the "TODO" markers or your
submission will not be reviewed)!!!  In particular, you need to finish
implementing the "TODO" tasks for this assignment in the following
files and folders:

<UL>

<li style="margin-bottom:1em"> <A
HREF="client/src/main/java/edu/vandy/recommender/">client</A>, where
you need to complete the "TODO" tasks in various fields/methods to
implement a declarative client proxy using HTTP interface. </LI>

<li style="margin-bottom:1em"> <A
HREF="database-ex/src/main/java/edu/vandy/recommender/databaseex">database-ex</A>,
where you need to complete the "TODO" tasks in various fields/methods
of the <A
HREF="database-ex/src/main/java/edu/vandy/recommender/databaseex/server/DatabaseService.java">DatabaseService.java</A>,
<A
HREF="database-ex/src/main/java/edu/vandy/recommender/databaseex/repository/MultiQueryRepositoryImpl.java">MultiQueryRepositoryImpl.java</A>,
and <A
HREF="database/src/main/java/edu/vandy/recommender/database/repository/DatabaseService.java">DatabaseService.java</A>
files that use declarative and programmatic features of R2DBC with
Project Reactor streams to return Flux objects containing information
about movies asynchronously.

<li style="margin-bottom:1em"> You also need to complete the "TODO"
tasks in factory methods in the <A
HREF="client/src/main/java/edu/vandy/recommender/common/ClientBeans.java">ClientBeans.java</A>
file that can be injected into Java classes using the Spring Autowired
annotation. </LI>

<li style="margin-bottom:1em">Finally, you need to implement the
"TODO" tasks in the <A
HREF="common/src/main/java/edu/vandy/recommender/common/model/Movie.java">Movie.java</A>
file.  </UL>

<p> As usual, your solution should strive to use few (if any) loops or
if/else statements in this assignment and instead use Java functional
programming features (including lambda expressions, method references,
and Java Stream aggregate operations), as well as Project Reactor
reactive programming operators. Your solution will be considered
correct if it passes all the unit tests, is commented thoroughly, and
addresses my review comments. Solutions that are not commented
thoroughly will not be reviewed.</p>

<hr width=50% align=left> <h4>Skeleton Code</h4>

<p> Skeleton code for this assignment is available <a
href="https://github.com/douglascraigschmidt/CS891/tree/master/assignment2c/">here</a>
in my GitHub repository.  Please pull this skeleton code into your
GitLab repository, read it carefully, and complete the "TODO" markers.

<hr width=50% align=left> <h4>Integration and Unit Tests</h4>

<p> There are unit tests that exercise all the "TODO" tasks you must
complete.  To compile and run these tests you need to use the provided
IntelliJ project.  You can run all the unit tests by opening the
Gradle tab, followed by navigating down to the "Tasks > verification >
check" submenu. All you need to do is double click on the "check"
submenu and all the tests will build and run automatically. </P>

<p> These tests increase our collective confidence that your solution
is working as expected.  As usual, testing only demonstrates the
presence of bugs, not their absence, so don't rely solely on the tests
to detect problems in your code. In particular, I will also provide
videos that walk through "frequently made mistakes" that you should
address.  Please address these issues prior to your submission(s) to
streamline our <A
HREF="http://www.dre.vanderbilt.edu/~schmidt/cs891/assignments.html">programming
assignment review and assessment</A> process.  </p>

<hr width=50% align=left> <h4>Concluding Remarks</h4> <p>

<p> Assignment 2c is designed to further deepen your understanding of
developing asynchronous microservices using Spring WebFlux, the Eureka
Discovery Service, the Spring Cloud Gateway, the HTTP interface
declarative client API, and the R2DBC persistence framework.  The
skeletons and tests are extensive, though you don't need to understand
them all to complete your solution.  This assignment is a bit more
complicated than assignment 2b, so please start early and ask
questions in class, office hours, and on the discussion forums to
ensure you complete this assignment successfully!  </p>

</body> </html>
