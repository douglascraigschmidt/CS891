<html>

<title>Android AsyncTask Framework and Barrier Synchronizers (Assignment 4 - Part A)</title>

<BODY text = "#000000"
link="#000fff"
vlink="#ff0f0f"
bgcolor="#ffffff">

<HR>
<h3>Android AsyncTask Framework and Barrier Synchronizers (Assignment 4 - Part A)</h3>

<HR width=50% align=left>
<H4>Objectives and Overview of the Assignment</H4>

<P>The objective of Part A of this assignment is to learn how to use
the Android AsyncTask framework and Java barrier synchronizers, which
are described in the following videos:

<UL>
<LI> <B>Android AsyncTask framework</B> -- <A
HREF="https://www.youtube.com/watch?v=N3nUUKo1x-4&t=8s&list=PLZ9NgFYEMxp4KSJPUyaQCj7x--NQ6kvcX&index=36">here</a>
and <A
HREF="https://www.youtube.com/watch?v=YrCM-WbE38E&list=PLZ9NgFYEMxp4KSJPUyaQCj7x--NQ6kvcX&index=37">here</a>.

<LI> <B>Java barrier synchronizers </B> <A
HREF="https://www.youtube.com/watch?v=10Tpe0K80Uc&list=PLZ9NgFYEMxp4p5piHxajQXRRlsyDCLvI3&index=37">here</A>
and <A
HREF="https://www.youtube.com/watch?v=ARtMckXrUNs&list=PLZ9NgFYEMxp4p5piHxajQXRRlsyDCLvI3&index=38">here</a>.
</UL>

I recommend you watch these videos to ensure that you understand the
Android AsyncTask framework and Java barrier synchronizers.
Naturally, we'll cover these topics in class, as well. </P>

<P>In this part of the assignment you will use an instance of the Java
ThreadPoolExecutor class that's created as a dynamically-sized pool of
cached threads to enhance the multi-threaded implementation of the
PalantiriSimulator app from <A
HREF="https://github.com/douglascraigschmidt/CS891/tree/master/assignments/assignment2a/">Assignment
2A</A>. Assignment 4A focuses on creating a pool of threads and using
it in conjunction with the AsyncTask framework to allow beings to
concurrently gaze into a fixed number of palantiri.</P>

<HR width=50% align=left>
<H4>Assignment Structure and Functionality</H4>

<P>The PalantiriSimulator app is packaged as a project in Android
Studio version 3.3.  This app is written in both Kotlin and Java and
demonstrates <EM>many</EM> Android capabilities.

For the purposes of Assignment 4A, however, you only need to be aware
of the following three directories:

<UL>

<LI> <A HREF="
app/src/main/java/edu/vandy/simulator/managers/beings/asyncTask/">app/src/main/java/edu/vandy/simulator/managers/beings/asyncTask</A>,
which contains the skeleton(s) you'll need to fill in, as
described <A HREF="#description">below</A>. <P>

<LI> <A HREF="app/src/test">app/src/test</A>, which is a set of JUnit
tests that exercise many PalantiriSimulator features and can be used
to help test the functionality you implement for the assignment. <P>

<LI> <A HREF="app/src/androidTest">app/src/androidTest</A>, which is
an Android Studio instrumentation test that runs your app
automatically.  <P>

</UL>

<P>To compile this code you need to use the provided Android Studio
project.  You can run this project by clicking the green "Run 'app'"
button in the Android Studio IDE, which should automatically select an
Android Emulator to run, assuming you have one created. The
application's minimum API is 24, so you will need to select an
emulator that uses an API >= 24. If you do not already have one
created you can create it by clicking on the "AVD Manager" button in
the Android Studio IDE.</P>

<HR width=50% align=left>
<A name="description">
<H4>Program Description and "TODO" Tasks</H4>

<P>You'll need to modify several files containing the skeleton Java
code by completing the "TODO - You fill in here" tasks to provide a
working solution.  DO NOT CHANGE THE OVERALL STRUCTURE OF THE SKELETON
- just fill in the "TODO" tasks!!!  In particular, you'll need to
finish implementing the following "TODO" tasks for this assignment in
the <A
HREF="app/src/main/java/edu/vandy/simulator/managers/beings/asyncTask">asyncTask</A>
folder: </P>

<UL>

<LI> <P><A
HREF="app/src/main/java/edu/vandy/simulator/managers/beings/asyncTask/AsyncTaskMgr.java">AsyncTaskMgr.java</A>.
You'll need to complete the "TODO" tasks in various methods to
implement a BeingManager via a dynamically-size thread pool using the
Java ThreadPoolExecutor and the Android AsyncTask framework. </P>

<LI> <A
HREF="app/src/main/java/edu/vandy/simulator/managers/palantiri/beings/asyncTask/BeingAsyncTask.java">BeingAsyncTask.java</A>.
You'll need to complete various methods in this class using an
instance of the Android AsyncTask class that's been customized to
perform background gazing, logging, and barrier synchronization
operations.
</UL>

<P>You'll also need to integrate your solution for the <A
HREF="app/src/main/java/edu/vandy/simulator/managers/palantiri/concurrentMapFairSemaphore">concurrentMapFairSemaphore</A>
folder from <A
HREF="https://github.com/douglascraigschmidt/CS891/tree/master/assignments/assignment3b/">Assignment
3B</a> into the latest/greatest
<CODE>concurrentMapFairSemaphore</CODE> skeleton and use it as
implementation of the PalantiriManager for Assignment 4A. </P>

<P>Your app will be considered correct if it (1) passes all the unit
and instrumentation tests and (2) all beings successfully complete all
their N iterations.  A correct simulation should restrict the number
of gazing beings to the number of palantiri.  In other words, if there
are four palantiri in the simulation, then only four beings should
ever be ``gazing'' on the screen at a time.</P>

<P>When the simulation is running, the app view will display visual
feedback to show palantiri and being states, as well as the progress
of their gazing iterations.  If your assignment implementation is
correct and does not throw any exceptions the app title bar labels
will appear green when the simulation completes. However, red title
bar labels will be displayed when the simulation completes if the
implementation throws an exception or is not implemented
correctly.</P>

<HR width=50% align=left>
<A NAME="gradwork">
<H4>Additional "TO DO" Tasks for Graduate Students</H4>

<P>Graduate students (or students who are taking this course for graduate
credit) must perform the following additional task(s):</P>

<UL>
<LI> Enhance the <CODE>AsyncTaskMgr.java</CODE> file to use Java 8
streams and associated features (e.g., method references and/or lambda
expressions).
</UL>

<P>Undergraduates are welcome to implement these methods/features, but
it's not required.</P>

<HR width=50% align=left>
<H4>Skeleton Code</H4>

<P>Skeleton code for this assignment is available from my <A
HREF="https://github.com/douglascraigschmidt/CS891/tree/master/assignments/assignment4a/">GitHub</a>
account.  Once you've setup your <A
HREF="https://about.gitlab.com/">GitLab</a> account you can pull this
skeleton code in your repository, read it carefully, and complete the
"TODO" markers. The additional work required by graduate students is
clearly marked.</P>

<HR width=50% align=left>
<H4>Concluding Remarks</H4>

<P>This assignment is designed to deepen your knowledge of writing
concurrent Java programs using the Android AsyncTask framework and a
ThreadPoolExecutor, which complements the Java Executor framework
mechanisms we covered in Assignments 2A and 3A.  You'll also get a
chance to apply several Java barrier synchronizers to ensure that
beings begin gazing simultaneously.  We don't make any changes to the
PalantiriManager from Assignment 3B, but this will be replaced in
Assignment 4B.</P>

</body>
</html>
